"""–ó–¥–µ—Å—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ—Ç–≤–µ—Ç–∞–º–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã"""

from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton

import app.database.requests.tickets as rq_t

# Builder - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ—Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –∫–ª–∞–≤–∏–∞—Ç—É—Ä. –ü–æ–ª–µ–∑–µ–Ω –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.
from aiogram.utils.keyboard import InlineKeyboardBuilder


# –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å–æ —Å–ø–∏—Å–∫–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
async def all_tickets():
    tickets = await rq_t.get_tickets()
    keyboard = InlineKeyboardBuilder()
    for ticket in tickets:
        keyboard.add(InlineKeyboardButton(text=f'–ó–∞–ø—Ä–æ—Å ‚Ññ {ticket.id}', callback_data=f'ticket_{ticket.id}'))
    keyboard.add(InlineKeyboardButton(text='–ù–∞–∑–∞–¥ üîô', callback_data='adm_to_main'))
    return keyboard.adjust(2).as_markup()


# –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
ticket_exit = InlineKeyboardMarkup(inline_keyboard=[
    [InlineKeyboardButton(text='–ù–∞–∑–∞–¥ üîô', callback_data='to_ticket_list')],
    [InlineKeyboardButton(text='–í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é üì±', callback_data='to_main')]])
